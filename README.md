

# breakermux
`import "github.com/cognusion/go-breakermux"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>
Package breakermux builds upon [gobreaker](<a href="https://github.com/sony/gobreaker/v2/">https://github.com/sony/gobreaker/v2/</a>),
allowing for circuitbreakers to be automatically instantiated for different keys.
This could be used to 'break on URLs or hostnames, etc.




## <a name="pkg-index">Index</a>
* [Variables](#pkg-variables)
* [type CircuitBreakerMux](#CircuitBreakerMux)
  * [func NewMux[T any](st gobreaker.Settings, execfunc ExecFunc[T]) *CircuitBreakerMux[T]](#NewMux)
  * [func (c *CircuitBreakerMux[T]) Clear()](#CircuitBreakerMux.Clear)
  * [func (c *CircuitBreakerMux[T]) Delete(key string)](#CircuitBreakerMux.Delete)
  * [func (c *CircuitBreakerMux[T]) Get(key string) (body T, err error)](#CircuitBreakerMux.Get)
* [type ExecFunc](#ExecFunc)


#### <a name="pkg-files">Package files</a>
[cbmux.go](https://github.com/cognusion/go-breakermux/tree/master/cbmux.go)



## <a name="pkg-variables">Variables</a>
``` go
var DefaultSettings gobreaker.Settings
```
DefaultSettings is exactly that, so implementors need not import
gobreaker directly.




## <a name="CircuitBreakerMux">type</a> [CircuitBreakerMux](https://github.com/cognusion/go-breakermux/tree/master/cbmux.go?s=613:723#L21)
``` go
type CircuitBreakerMux[T any] struct {
    // contains filtered or unexported fields
}

```
CircuitBreakerMux is a goro-safe circuit breaker multiplex,
whereby individual keys gets their own 'breakers,
which can each be in various states.







### <a name="NewMux">func</a> [NewMux](https://github.com/cognusion/go-breakermux/tree/master/cbmux.go?s=824:909#L28)
``` go
func NewMux[T any](st gobreaker.Settings, execfunc ExecFunc[T]) *CircuitBreakerMux[T]
```
NewMux requires a Settings struct to use for each 'breaker, and an ExecFunc that each will use.





### <a name="CircuitBreakerMux.Clear">func</a> (\*CircuitBreakerMux[T]) [Clear](https://github.com/cognusion/go-breakermux/tree/master/cbmux.go?s=1859:1897#L68)
``` go
func (c *CircuitBreakerMux[T]) Clear()
```
Clear removes all keys and 'breakers.




### <a name="CircuitBreakerMux.Delete">func</a> (\*CircuitBreakerMux[T]) [Delete](https://github.com/cognusion/go-breakermux/tree/master/cbmux.go?s=1739:1788#L63)
``` go
func (c *CircuitBreakerMux[T]) Delete(key string)
```
Delete removes a 'breaker named by key, if one exists.




### <a name="CircuitBreakerMux.Get">func</a> (\*CircuitBreakerMux[T]) [Get](https://github.com/cognusion/go-breakermux/tree/master/cbmux.go?s=1113:1179#L37)
``` go
func (c *CircuitBreakerMux[T]) Get(key string) (body T, err error)
```
Get fetches an existing 'breaker for the key, or creates a new one,
executes the ExecFunc on it, and returns accordingly.




## <a name="ExecFunc">type</a> [ExecFunc](https://github.com/cognusion/go-breakermux/tree/master/cbmux.go?s=2013:2064#L73)
``` go
type ExecFunc[T any] func(string) func() (T, error)
```
ExecFunc is a closure to allow a string to be passed to an otherwise niladic function.














- - -
Generated by [godoc2md](http://github.com/cognusion/godoc2md)
